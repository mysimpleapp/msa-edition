<script>
// position 

var setPos = function(dom, args) {
	setPosX(dom, args)
	setPosY(dom, args)
}

var setPosX = function(dom, args) {
	var chains = dom.edition ? dom.edition.chains : null
	var leftChainActive = chains ? chains.left.active : true
	var rightChainActive = chains ? chains.right.active : false
	var parent = dom.parentNode
	var left = (args && args.left!==undefined) ? args.left : dom.offsetLeft
	var width = (args && args.width!==undefined) ? args.width : dom.offsetWidth
	// set horizontal pos
	if(leftChainActive && !rightChainActive) {
		var newLeft = left +"px"
		var newRight = ""
		var newWidth = width +"px"
	}
	else if(!leftChainActive && rightChainActive) {
		var newLeft = ""
		var newRight = (parent.offsetWidth - (left + width)) +"px"
		var newWidth = width +"px"
	}
	else {
		var newLeft = left +"px"
		var newRight = ""
		var newWidth = "calc(100% - "+(parent.offsetWidth - width)+"px)"
	}
	dom.style.left = newLeft
	dom.style.right = newRight
	dom.style.width = newWidth
}

var setPosY = function(dom, args) {
	var chains = dom.edition ? dom.edition.chains : null
	var topChainActive = chains ? chains.top.active : true
	var bottomChainActive = chains ? chains.bottom.active : false
	var parent = dom.parentNode
	var top = (args && args.top!==undefined) ? args.top : dom.offsetTop
	var height = (args && args.height!==undefined) ? args.height : dom.offsetHeight
	// set vertical pos
	if(topChainActive && !bottomChainActive) {
		var newTop = top +"px"
		var newBottom = ""
		var newHeight = height +"px"
	}
	else if(!topChainActive && bottomChainActive) {
		var newTop = ""
		var newBottom = (parent.offsetHeight - (top + height)) +"px"
		var newHeight = height +"px"
	}
	else {
		var newTop = top +"px"
		var newBottom = ""
		var newHeight = "calc(100% - "+(parent.offsetHeight - height)+"px)"
	}
	dom.style.top = newTop
	dom.style.bottom = newBottom
	dom.style.height = newHeight
}

// publication

Edition = {}
Edition.setPos = setPos

</script>